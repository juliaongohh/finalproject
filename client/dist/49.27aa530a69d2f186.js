"use strict";(self.webpackChunkSurveySite=self.webpackChunkSurveySite||[]).push([[49],{4049:(y,p,l)=>{l.r(p),l.d(p,{AdminModule:()=>b});var d=l(6895),s=l(433),m=l(6773),e=l(8256),g=l(4551);function h(o,a){if(1&o&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.errorMessage," ")}}let _=(()=>{class o{constructor(n,t){this.auth=n,this.router=t}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user"))}updateProfile(n){n.valid?this.auth.updateUser(this.user).subscribe(t=>{t.success&&(this.auth.logout(),this.auth.authenticate(this.user).subscribe(i=>{i.success&&(this.auth.storeUserData(i.token,i.user),this.router.navigateByUrl("/survey"))}))}):this.errorMessage="Form Data Invalid"}logout(){this.auth.logout(),this.router.navigateByUrl("/")}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(g.e),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:32,vars:5,consts:[[1,"bg-info","p-2","text-center","text","white"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3","col-lg-6","offset-lg-3","col-sm-8","offset-sm-1"],["class","bg-danger mt-2 p-2 textenter text-white",4,"ngIf"],["autocomplete","off",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Enter Username","id","username","required","","autofocus","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","placeholder","Enter Password","id","password","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","name","email","placeholder","Enter Email Address","id","Email","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","displayName"],["type","text","name","displayName","placeholder","Enter Display Name","id","displayName","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-end"],["type","submit",1,"btn","btn-primary","m-1"],[1,"fas","fa-sign-in-alt"],["routerLink","/survey",1,"btn","btn-secondary","m-1"],[1,"fas","fa-undo"],[1,"bg-danger","mt-2","p-2","textenter","text-white"]],template:function(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"User Profile"),e.qZA()(),e.TgZ(3,"main",1)(4,"div",2)(5,"div",3),e.YNc(6,h,2,1,"div",4),e.TgZ(7,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.MAs(8);return e.KtG(t.updateProfile(r))}),e.TgZ(9,"fieldset",7)(10,"label",8),e._uU(11,"Username:"),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(r){return t.user.username=r}),e.qZA()(),e.TgZ(13,"fieldset",7)(14,"label",10),e._uU(15,"Password:"),e.qZA(),e.TgZ(16,"input",11),e.NdJ("ngModelChange",function(r){return t.user.password=r}),e.qZA()(),e.TgZ(17,"fieldset",7)(18,"label",12),e._uU(19,"Email:"),e.qZA(),e.TgZ(20,"input",13),e.NdJ("ngModelChange",function(r){return t.user.email=r}),e.qZA()(),e.TgZ(21,"fieldset",7)(22,"label",14),e._uU(23,"Display Name:"),e.qZA(),e.TgZ(24,"input",15),e.NdJ("ngModelChange",function(r){return t.user.displayName=r}),e.qZA()(),e.TgZ(25,"fieldset",16)(26,"button",17),e._UZ(27,"i",18),e._uU(28,"Update"),e.qZA(),e.TgZ(29,"button",19),e._UZ(30,"i",20),e._uU(31," Cancel "),e.qZA()()()()()()}2&n&&(e.xp6(6),e.Q6J("ngIf",null!=t.errorMessage),e.xp6(6),e.Q6J("ngModel",t.user.username),e.xp6(4),e.Q6J("ngModel",t.user.password),e.xp6(4),e.Q6J("ngModel",t.user.email),e.xp6(4),e.Q6J("ngModel",t.user.displayName))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,m.rH],encapsulation:2}),o})();var f=l(7453);function Z(o,a){if(1&o&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.errorMessage," ")}}let M=(()=>{class o{constructor(n,t){this.router=n,this.auth=t}ngOnInit(){this.user=new f.n}authenticate(n){n.valid?this.auth.authenticate(this.user).subscribe(t=>{t.success&&(this.auth.storeUserData(t.token,t.user),this.router.navigateByUrl("/survey"))}):this.errorMessage="Form Data Invalid"}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(m.F0),e.Y36(g.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:29,vars:3,consts:[[1,"bg-info","p-2","text-center","text","white"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3","col-lg-6","offset-lg-3","col-sm-8","offset-sm-1"],["class","bg-danger mt-2 p-2 textenter text-white",4,"ngIf"],["autocomplete","off",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Enter Username","id","username","required","","autofocus","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","placeholder","Enter Password","id","password","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["href","/admin/register",1,""],[1,"form-group","text-end"],["type","submit",1,"btn","btn-primary","m-1"],[1,"fas","fa-sign-in-alt"],["routerLink","/",1,"btn","btn-secondary","m-1"],[1,"fas","fa-undo"],[1,"bg-danger","mt-2","p-2","textenter","text-white"]],template:function(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"Survey Login"),e.qZA()(),e.TgZ(3,"main",1)(4,"div",2)(5,"div",3),e.YNc(6,Z,2,1,"div",4),e.TgZ(7,"h1"),e._uU(8,"Please Login"),e.qZA(),e.TgZ(9,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.MAs(10);return e.KtG(t.authenticate(r))}),e.TgZ(11,"fieldset",7)(12,"label",8),e._uU(13,"Username:"),e.qZA(),e.TgZ(14,"input",9),e.NdJ("ngModelChange",function(r){return t.user.username=r}),e.qZA()(),e.TgZ(15,"fieldset",7)(16,"label",10),e._uU(17,"Password:"),e.qZA(),e.TgZ(18,"input",11),e.NdJ("ngModelChange",function(r){return t.user.password=r}),e.qZA(),e._uU(19," or "),e.TgZ(20,"a",12),e._uU(21,"Register Here"),e.qZA()(),e.TgZ(22,"fieldset",13)(23,"button",14),e._UZ(24,"i",15),e._uU(25,"Log In"),e.qZA(),e.TgZ(26,"button",16),e._UZ(27,"i",17),e._uU(28," Cancel "),e.qZA()()()()()()}2&n&&(e.xp6(6),e.Q6J("ngIf",null!=t.errorMessage),e.xp6(8),e.Q6J("ngModel",t.user.username),e.xp6(4),e.Q6J("ngModel",t.user.password))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,m.rH],encapsulation:2}),o})();var c=l(1433);function C(o,a){if(1&o&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hij(" ",n.errorMessage," ")}}const T=m.Bz.forChild([{path:"register",component:(()=>{class o{constructor(n,t){this.router=n,this.auth=t}ngOnInit(){this.user=new f.n}authenticate(n){n.valid?this.auth.register(this.user).subscribe(t=>{t.success&&this.auth.authenticate(this.user).subscribe(i=>{i.success&&(this.auth.storeUserData(i.token,i.user),this.router.navigateByUrl("/survey"))})}):this.errorMessage="Form Data Invalid"}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(m.F0),e.Y36(g.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],decls:32,vars:5,consts:[[1,"bg-info","p-2","text-center","text","white"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3","col-lg-6","offset-lg-3","col-sm-8","offset-sm-1"],["class","bg-danger mt-2 p-2 textenter text-white",4,"ngIf"],["autocomplete","off",3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["for","username"],["type","text","name","username","placeholder","Enter Username","id","username","required","","autofocus","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","placeholder","Enter Password","id","password","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","name","email","placeholder","Enter Email Address","id","Email","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","displayName"],["type","text","name","displayName","placeholder","Enter Display Name","id","displayName","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-end"],["type","submit",1,"btn","btn-primary","m-1"],[1,"fas","fa-sign-in-alt"],["routerLink","/",1,"btn","btn-secondary","m-1"],[1,"fas","fa-undo"],[1,"bg-danger","mt-2","p-2","textenter","text-white"]],template:function(n,t){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"User Register"),e.qZA()(),e.TgZ(3,"main",1)(4,"div",2)(5,"div",3),e.YNc(6,C,2,1,"div",4),e.TgZ(7,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.MAs(8);return e.KtG(t.authenticate(r))}),e.TgZ(9,"fieldset",7)(10,"label",8),e._uU(11,"Username:"),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(r){return t.user.username=r}),e.qZA()(),e.TgZ(13,"fieldset",7)(14,"label",10),e._uU(15,"Password:"),e.qZA(),e.TgZ(16,"input",11),e.NdJ("ngModelChange",function(r){return t.user.password=r}),e.qZA()(),e.TgZ(17,"fieldset",7)(18,"label",12),e._uU(19,"Email:"),e.qZA(),e.TgZ(20,"input",13),e.NdJ("ngModelChange",function(r){return t.user.email=r}),e.qZA()(),e.TgZ(21,"fieldset",7)(22,"label",14),e._uU(23,"Display Name:"),e.qZA(),e.TgZ(24,"input",15),e.NdJ("ngModelChange",function(r){return t.user.displayName=r}),e.qZA()(),e.TgZ(25,"fieldset",16)(26,"button",17),e._UZ(27,"i",18),e._uU(28,"Register"),e.qZA(),e.TgZ(29,"button",19),e._UZ(30,"i",20),e._uU(31," Cancel "),e.qZA()()()()()()}2&n&&(e.xp6(6),e.Q6J("ngIf",null!=t.errorMessage),e.xp6(6),e.Q6J("ngModel",t.user.username),e.xp6(4),e.Q6J("ngModel",t.user.password),e.xp6(4),e.Q6J("ngModel",t.user.email),e.xp6(4),e.Q6J("ngModel",t.user.displayName))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,m.rH]}),o})()},{path:"auth",component:M},{path:"main",component:_,canActivate:[c.a],children:[{path:"**",redirectTo:"book-list"}]},{path:"**",redirectTo:"auth"}]);let b=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[c.a],imports:[d.ez,s.u5,T]}),o})()}}]);